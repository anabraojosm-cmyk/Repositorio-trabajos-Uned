<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Tabla del mapa del mundo</title>
  <script type="text/javascript" src="https://www.x3dom.org/download/x3dom.js"></script>
  <link rel="stylesheet" type="text/css" href="https://www.x3dom.org/download/x3dom.css"/>
  <style>
    body {
      font-family: 'Segoe UI', Helvetica, sans-serif;
      text-align: center;
      background-color: #4682B4; /* azul bonito */
      margin: 0;
      padding: 0;
    }
    h1 {
      margin-top: 20px;
      color: white;
    }
    #preloader {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: #4682B4;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
      z-index: 9999;
    }
    x3d {
      border: 1px solid #ccc;
      margin: 20px auto;
      display: block;
    }
    .controls {
      margin-top: 20px;
    }
    .controls button {
      margin: 5px;
      padding: 8px 12px;
      font-size: 14px;
      cursor: pointer;
      background-color: #B0C4DE;
      border: none;
      border-radius: 4px;
    }
    footer {
      margin-top: 40px;
      font-size: 14px;
      color: white;
    }
    .texture-preview {
      position: fixed;
      bottom: 10px;
      right: 10px;
      width: 120px;
      border: 1px solid #aaa;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      background-color: white;
      padding: 4px;
    }
    .texture-preview img {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
  <div id="preloader">Cargando modeloâ€¦</div>

  <h1>Tabla del mapa del mundo</h1>

  <x3d id="visor" width="800px" height="600px" showStat="false" showNavigation="true">
    <scene>
      <Viewpoint description="Vista inicial" position="0 0 5" orientation="0 0 0 0"></Viewpoint>
      <Transform translation="0 -1 0">
        <inline id="modelo" url="trabajo_03.x3d"></inline>
      </Transform>
    </scene>
  </x3d>

  <div class="controls">
    <button onclick="resetView()">Reiniciar vista</button>
    <button onclick="toggleWireframe()">Modo wireframe</button>
  </div>

  <footer>
    Realizado por Ana Braojos
  </footer>

  <div class="texture-preview">
    <img src="the-map-of-the-world-tablet_tex_01.png" alt="Textura aplicada">
  </div>

  <script>
    // Preloader
    window.addEventListener('load', () => {
      document.getElementById('preloader').style.display = 'none';
    });

    // Reset view
    function resetView() {
      const runtime = document.getElementById('visor').runtime;
      runtime.resetView();
    }

    // Toggle wireframe
    let wireframe = false;
    function toggleWireframe() {
      const visor = document.getElementById('visor');
      visor.runtime.togglePoints(true);
      visor.runtime.toggleWireframe(!wireframe);
      wireframe = !wireframe;
    }
  </script>
</body>
</html>
